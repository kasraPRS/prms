<div class="card" *ngIf="dataSource">

    <!-- #region Body -->
    <div class="card-body d-flex align-items-center">

        <!-- #region name -->
        <div class="d-flex flex-column me-10">

            <div class="text-primary fs-3 mw-300px">{{dataSource.name}}</div>
            <div class="text-muted mt-3">{{dataSource.totalMember}} Members</div>

        </div>
        <!-- #endregion name -->

        <!-- #region members -->
        <div class="d-flex align-items-center">
            <div class="symbol-group symbol-hover me-3">
                <div class="symbol symbol-circle symbol-40px" placement="bottom"
                    *ngFor="let member of dataSource.teamUserDtoes.slice(0,5)" routerLink="/activities" target="_blank"
                    [queryParams]="{i: member.id}" [ngbTooltip]="member.fullName">
                    <img [src]="member.profileImageUrl" [hidden]="!member.profileImageUrl" alt="user image" />
                    <div class="symbol-label fs-4 fw-bold text-primary" [hidden]="member.profileImageUrl">
                        {{member.fullName?.substring(0,1)}}
                    </div>
                </div>
            </div>
            <span class="text-muted" *ngIf="dataSource.teamUserDtoes.length - 5 > 0">
                + {{dataSource.teamUserDtoes.length - 5}} more
            </span>
        </div>
        <!-- #endregion members -->

        <!-- #region Total Info -->
        <div class="d-flex flex-wrap ms-10">

            <!-- #region RM -->
            <div [ngClass]="{'pt-0': changingCommissions}"
                class="border border-gray-300 border-dashed rounded min-w-60px py-3 px-4 me-3 d-flex flex-column justify-content-between">
                <div class="d-flex align-items-center justify-content-center">
                    <div class="fs-4 fw-bold text-gray-400 w-100 text-center" [hidden]="changingCommissions">
                        {{commissions.rmCommission}}%
                    </div>
                    <input type="number" [hidden]="!changingCommissions" [(ngModel)]="commissions.rmCommission"
                        class="border-botoom border-left-0 border-right-0 border-top-0 text-center w-50px fs-3 text-gray-500"
                        style="outline: none;">
                </div>
                <div class="fw-bold fs-8 text-gray-400 w-100 text-center">RM</div>
            </div>
            <!-- #endregion RM -->

            <!-- #region DM -->
            <div [ngClass]="{'pt-0': changingCommissions}"
                class="border border-gray-300 border-dashed rounded min-w-60px py-3 px-4 me-3 d-flex flex-column justify-content-between">
                <div class="d-flex align-items-center justify-content-center">
                    <div class="fs-4 fw-bold text-gray-400" [hidden]="changingCommissions">
                        {{commissions.dmCommission}}%
                    </div>
                    <input type="number" [hidden]="!changingCommissions" [(ngModel)]="commissions.dmCommission"
                        class="border-botoom border-left-0 border-right-0 border-top-0 text-center w-50px fs-3 text-gray-500"
                        style="outline: none;">
                </div>
                <div class="fw-bold fs-8 text-center text-gray-400">DM</div>
            </div>
            <!-- #endregion DM -->

            <!-- #region L3 -->
            <div [ngClass]="{'pt-0': changingCommissions}"
                class="border border-gray-300 border-dashed rounded min-w-60px py-3 px-4 me-3 d-flex flex-column justify-content-between">
                <div class="d-flex align-items-center justify-content-center">
                    <div class="fs-4 fw-bold text-gray-400" [hidden]="changingCommissions">
                        {{commissions.level3Commission}}%
                    </div>
                    <input type="number" [hidden]="!changingCommissions" [(ngModel)]="commissions.level3Commission"
                        class="border-botoom border-left-0 border-right-0 border-top-0 text-center w-50px fs-3 text-gray-500"
                        style="outline: none;">
                </div>
                <div class="fw-bold fs-8 text-center text-gray-400">AM3</div>
            </div>
            <!-- #endregion L3 -->

            <!-- #region L4 -->
            <div [ngClass]="{'pt-0': changingCommissions}"
                class="border border-gray-300 border-dashed rounded min-w-60px py-3 px-4 me-3 d-flex flex-column justify-content-between">
                <div class="d-flex align-items-center justify-content-center">
                    <div class="fs-4 fw-bold text-gray-400" [hidden]="changingCommissions">
                        {{commissions.level4Commission}}%
                    </div>
                    <input type="number" placeholder="" [hidden]="!changingCommissions"
                        [(ngModel)]="commissions.level4Commission"
                        class="border-botoom border-left-0 border-right-0 border-top-0 text-center w-50px fs-3 text-gray-500"
                        style="outline: none;">
                </div>
                <div class="fw-bold fs-8 text-center text-gray-400">AM4</div>
            </div>
            <!-- #endregion L4 -->

            <!-- #region L5 -->
            <div [ngClass]="{'pt-0': changingCommissions}"
                class="border border-gray-300 border-dashed rounded min-w-60px py-3 px-4 me-3 d-flex flex-column justify-content-between">
                <div class="d-flex align-items-center justify-content-center">
                    <div class="fs-4 fw-bold text-gray-400" [hidden]="changingCommissions">
                        {{commissions.level5Commission}}%
                    </div>
                    <input type="number" placeholder="" [hidden]="!changingCommissions"
                        [(ngModel)]="commissions.level5Commission"
                        class="border-botoom border-left-0 border-right-0 border-top-0 text-center w-50px fs-3 text-gray-500"
                        style="outline: none;">
                </div>
                <div class="fw-bold fs-8 text-center text-gray-400">AM5</div>
            </div>
            <!-- #endregion L5 -->

        </div>
        <!-- #endregion Total Info -->

        <!-- #region action -->
        <div class="ms-auto">
            <button class="btn btn-light" *ngIf="!changingCommissions" (click)="onBtnEditClick()">
                Edit Commissions
            </button>
            <button class="btn btn-primary" *ngIf="changingCommissions" (click)="onBtnApplyClick()">
                Apply
            </button>
        </div>
        <!-- #endregion action -->

    </div>
    <!-- #endregion Body -->

</div>